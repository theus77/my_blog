{
    "blocks": "[{\"id\":\"a50f796f-567e-493f-815a-5873d064fd1d\",\"label\":\"Solution\",\"type\":\"doc\",\"object\":{\"label\":\"Solution\",\"body\":\"We are talking of that kind of strings:\\r\\n\\r\\n- `24m`\\r\\n- `24MB`\\r\\n- `4G`\\r\\n- `12Kb`\\r\\n\\r\\nTo be converted like these:\\r\\n\\r\\n- `24*1024*1024 = 25.165.824`\\r\\n- `24*1024*1024 = 25.165.824`\\r\\n- `4*1024*1024*1024 = 4.294.967.296`\\r\\n- `12*1024 = 12.288`\\r\\n\\r\\n\\r\\nAnd my solution is\\r\\n\\r\\n```php\\r\\n    function humanReadableSizeToBytes(Options $options, string $value): int \\r\\n    {\\r\\n        $matches = [];\\r\\n        \\\\preg_match('/^\\\\s*(?P<number>\\\\d+)\\\\s*(?:(?P<prefix>[kmgt]?)b?)?\\\\s*$/i', $value, $matches);\\r\\n\\r\\n        $bytes = \\\\intval($matches['number'] ?? 0);\\r\\n        $prefix = \\\\strtolower(\\\\strval($matches['prefix'] ?? ''));\\r\\n        switch ($prefix) {\\r\\n            case 't': $bytes *= 1024;\\r\\n            // no break\\r\\n            case 'g': $bytes *= 1024;\\r\\n            // no break\\r\\n            case 'm': $bytes *= 1024;\\r\\n            // no break\\r\\n            case 'k': $bytes *= 1024;\\r\\n        }\\r\\n\\r\\n        return $bytes;\\r\\n    };\\r\\n\\r\\n```\\r\\n\\r\\nthe trick is to not have break sentences in the switch. So If a have 'g' size the $bytes size will \\r\\nbe mutiplicated by the `g`'s 1024 then the `m`'s 1024 and finally the `k`'s 1024.\"},\"children\":[]}]",
    "description": "Convert Human Readable Size to Bytes in PHP",
    "label": "2021-09-04 PHP - Convert Human Readable Size to Bytes",
    "locale": "en",
    "path": "2021-09-04/php/convert-human-readable-size-to-bytes",
    "published_date": "2021-09-04T14:34:00+02:00",
    "search": [
        "Solution",
        "We are talking of that kind of strings:\r\n\r\n- `24m`\r\n- `24MB`\r\n- `4G`\r\n- `12Kb`\r\n\r\nTo be converted like these:\r\n\r\n- `24*1024*1024 = 25.165.824`\r\n- `24*1024*1024 = 25.165.824`\r\n- `4*1024*1024*1024 = 4.294.967.296`\r\n- `12*1024 = 12.288`\r\n\r\n\r\nAnd my solution is\r\n\r\n```php\r\n    function humanReadableSizeToBytes(Options $options, string $value): int \r\n    {\r\n        $matches = [];\r\n        \\preg_match('/^\\s*(?P\\d+)\\s*(?:(?P[kmgt]?)b?)?\\s*$/i', $value, $matches);\r\n\r\n        $bytes = \\intval($matches['number'] ?? 0);\r\n        $prefix = \\strtolower(\\strval($matches['prefix'] ?? ''));\r\n        switch ($prefix) {\r\n            case 't': $bytes *= 1024;\r\n            // no break\r\n            case 'g': $bytes *= 1024;\r\n            // no break\r\n            case 'm': $bytes *= 1024;\r\n            // no break\r\n            case 'k': $bytes *= 1024;\r\n        }\r\n\r\n        return $bytes;\r\n    };\r\n\r\n```\r\n\r\nthe trick is to not have break sentences in the switch. So If a have 'g' size the $bytes size will \r\nbe mutiplicated by the `g`'s 1024 then the `m`'s 1024 and finally the `k`'s 1024."
    ],
    "template": "blog",
    "title": "PHP - Convert Human Readable Size to Bytes"
}