{
    "blocks": "[{\"id\":\"f63e1bc2-5093-46a0-bde2-51a4c0488c8c\",\"label\":\"Context\",\"type\":\"paragraph\",\"object\":{\"label\":\"Context\",\"body\":\"<p>L&#39;outil <a href=\\\"https://accessibility.belgium.be/fr/tools/bosa-accessibility-check\\\">BOSA Accessibility Check</a>&nbsp;permet de v&eacute;rifier l&#39;accessibilit&eacute; d&#39;une page web d&#39;un simple click. Il&nbsp;s&#39;agit de d&eacute;finir un lien dans votre navigateur qui contient un petit bout de code JavaScript.&nbsp;</p>\\r\\n\\r\\n<p>L&#39;ennui&nbsp;c&#39;est quand on d&eacute;veloppe un nouveau site web, ou quand on encode du contenu, il est difficile de rigoureusement v&eacute;rifier syst&eacute;matiquement chaque page &agrave; chaque changement.</p>\\r\\n\\r\\n<p>L&#39;id&eacute;e ici est de voir comment reprendre ce JavaScript pour l&#39;int&eacute;grer dans des environments de d&eacute;velopments.</p>\\r\\n\\r\\n<div style=\\\"text-align:center\\\">\\r\\n<figure class=\\\"image\\\" style=\\\"display:inline-block\\\"><img alt=\\\"Aper\u00e7u de BOSA accessibility check\\\" height=\\\"274\\\" src=\\\"ems://asset:1efefd3aed01be8b54383d35b4be15df0517a9b3?name=Screenshot%202021-09-17%20at%2014.36.43.png&amp;type=image/png\\\" width=\\\"209\\\" />\\r\\n<figcaption>Aper&ccedil;u de BOSA Acessibility Check</figcaption>\\r\\n</figure>\\r\\n</div>\"}},{\"id\":\"61387191-70e4-48a2-a219-7a4a55f1fddc\",\"label\":\"Solution\",\"type\":\"doc\",\"object\":{\"label\":\"Solution\",\"body\":\"Voici le snippet fournit par bosa:\\r\\n\\r\\n```javascript\\r\\njavascript:(function() {var _p='//openfed.github.io/AccessibilityCheck/build/';var _i=function(s,cb) {var sc=document.createElement('script');sc.onload = function() {sc.onload = null;sc.onreadystatechange = null;cb.call(this);};sc.onreadystatechange = function(){if(/^(complete|loaded)$/.test(this.readyState) === true){sc.onreadystatechange = null;sc.onload();}};sc.src=s;if (document.head) {document.head.appendChild(sc);} else {document.getElementsByTagName('head')[0].appendChild(sc);}}; var options={path:_p};_i(_p+'HTMLCS.js',function(){HTMLCSAuditor.run('WCAG2AA',null,options);});})();\\r\\n```\\r\\n\\r\\n\\r\\n\\r\\nOn peut donc sans probl\u00e8me supprimer `javascript:` et l'int\u00e9grer dans un DOM:\\r\\n\\r\\n```html\\r\\n<script>\\r\\n    (function() {var _p='//openfed.github.io/AccessibilityCheck/build/';var _i=function(s,cb) {var sc=document.createElement('script');sc.onload = function() {sc.onload = null;sc.onreadystatechange = null;cb.call(this);};sc.onreadystatechange = function(){if(/^(complete|loaded)$/.test(this.readyState) === true){sc.onreadystatechange = null;sc.onload();}};sc.src=s;if (document.head) {document.head.appendChild(sc);} else {document.getElementsByTagName('head')[0].appendChild(sc);}}; var options={path:_p};_i(_p+'HTMLCS.js',function(){HTMLCSAuditor.run('WCAG2AA',null,options);});})();\\r\\n</script>\\r\\n```\\r\\n\\r\\nSi vous int\u00e9grez cela dans un elasticms vous pouvez limiter le charger de cet outil uniquement en preview:\\r\\n\\r\\n```twig\\r\\n\\r\\n{% if 'preview' in trans_default_domain %}\\r\\n    <script>\\r\\n        (function() {var _p='//openfed.github.io/AccessibilityCheck/build/';var _i=function(s,cb) {var sc=document.createElement('script');sc.onload = function() {sc.onload = null;sc.onreadystatechange = null;cb.call(this);};sc.onreadystatechange = function(){if(/^(complete|loaded)$/.test(this.readyState) === true){sc.onreadystatechange = null;sc.onload();}};sc.src=s;if (document.head) {document.head.appendChild(sc);} else {document.getElementsByTagName('head')[0].appendChild(sc);}}; var options={path:_p, show: { error: true, warning: false, notice: false }};_i(_p+'HTMLCS.js',function(){HTMLCSAuditor.run('WCAG2AA',null,options);});})();\\r\\n    </script>\\r\\n{% endif %}\\r\\n```\\r\\n\\r\\nSinon il est aussi possible de v\u00e9rifier le nom de domain directement en javascript (pour les sites statiques \u00e0 priori):\\r\\n\\r\\n\\r\\n```twig\\r\\n    <script>\\r\\n        if ([\\\"localhost\\\", \\\"mon-site.test.infra\\\", \\\"preview.mon-site.com\\\"].includes(location.hostname)) {\\r\\n            (function() {var _p='//openfed.github.io/AccessibilityCheck/build/';var _i=function(s,cb) {var sc=document.createElement('script');sc.onload = function() {sc.onload = null;sc.onreadystatechange = null;cb.call(this);};sc.onreadystatechange = function(){if(/^(complete|loaded)$/.test(this.readyState) === true){sc.onreadystatechange = null;sc.onload();}};sc.src=s;if (document.head) {document.head.appendChild(sc);} else {document.getElementsByTagName('head')[0].appendChild(sc);}}; var options={path:_p, show: { error: true, warning: false, notice: false }};_i(_p+'HTMLCS.js',function(){HTMLCSAuditor.run('WCAG2AA',null,options);});})();\\r\\n        }\\r\\n    </script>\\r\\n```\"}},{\"id\":\"bc31fea7-6417-4dfb-ae23-f37aebdef259\",\"label\":\"Configuration\",\"type\":\"doc\",\"object\":{\"label\":\"Configuration\",\"body\":\"Si vous voulez fine-tuner la config de l'outil voici le code proprement indent\u00e9:\\r\\n\\r\\n```html\\r\\n<script>\\r\\n    (function () {\\r\\n        var _p = '//openfed.github.io/AccessibilityCheck/build/';\\r\\n        var _i = function (s, cb) {\\r\\n            var sc = document.createElement('script');\\r\\n            sc.onload = function () {\\r\\n                sc.onload = null;\\r\\n                sc.onreadystatechange = null;\\r\\n                cb.call(this);\\r\\n            };\\r\\n            sc.onreadystatechange = function () {\\r\\n                if (/^(complete|loaded)$/.test(this.readyState) === true) {\\r\\n                    sc.onreadystatechange = null;\\r\\n                    sc.onload();\\r\\n                }\\r\\n            };\\r\\n            sc.src = s;\\r\\n            if (document.head) {\\r\\n                document.head.appendChild(sc);\\r\\n            } else {\\r\\n                document.getElementsByTagName('head')[0].appendChild(sc);\\r\\n            }\\r\\n        };\\r\\n        var options = {\\r\\n            path: _p, \\r\\n            show: {\\r\\n                error: true, \\r\\n                warning: false, \\r\\n                notice: false\\r\\n            }\\r\\n        };\\r\\n        _i(_p + 'HTMLCS.js', function () {\\r\\n            HTMLCSAuditor.run('WCAG2AA', null, options);\\r\\n        });\\r\\n    })();\\r\\n</script>\\r\\n```\\r\\n\\r\\nVous voyez comment ajuster le niveau WCAG. Et aussi comment definir quels erreurs afficher avec la variable `show`.\"}}]",
    "description": "Int\u00e9grer BOSA Accessibility Check dans un site web",
    "label": "2021-09-17 int\u00e9grer BOSA Accessibility Check dans un site web",
    "locale": "fr",
    "path": "blog/2021-09-17/integrer-bosa-accessibility-check",
    "published_date": "2021-09-17T14:33:00+02:00",
    "search": [
        "Context",
        "L&#39;outil BOSA Accessibility Check&nbsp;permet de v&eacute;rifier l&#39;accessibilit&eacute; d&#39;une page web d&#39;un simple click. Il&nbsp;s&#39;agit de d&eacute;finir un lien dans votre navigateur qui contient un petit bout de code JavaScript.&nbsp;\r\n\r\nL&#39;ennui&nbsp;c&#39;est quand on d&eacute;veloppe un nouveau site web, ou quand on encode du contenu, il est difficile de rigoureusement v&eacute;rifier syst&eacute;matiquement chaque page &agrave; chaque changement.\r\n\r\nL&#39;id&eacute;e ici est de voir comment reprendre ce JavaScript pour l&#39;int&eacute;grer dans des environments de d&eacute;velopments.\r\n\r\n\r\n\r\nAper&ccedil;u de BOSA Acessibility Check\r\n\r\n",
        "Solution",
        "Voici le snippet fournit par bosa:\r\n\r\n```javascript\r\njavascript:(function() {var _p='//openfed.github.io/AccessibilityCheck/build/';var _i=function(s,cb) {var sc=document.createElement('script');sc.onload = function() {sc.onload = null;sc.onreadystatechange = null;cb.call(this);};sc.onreadystatechange = function(){if(/^(complete|loaded)$/.test(this.readyState) === true){sc.onreadystatechange = null;sc.onload();}};sc.src=s;if (document.head) {document.head.appendChild(sc);} else {document.getElementsByTagName('head')[0].appendChild(sc);}}; var options={path:_p};_i(_p+'HTMLCS.js',function(){HTMLCSAuditor.run('WCAG2AA',null,options);});})();\r\n```\r\n\r\n\r\n\r\nOn peut donc sans probl\u00e8me supprimer `javascript:` et l'int\u00e9grer dans un DOM:\r\n\r\n```html\r\n\r\n    (function() {var _p='//openfed.github.io/AccessibilityCheck/build/';var _i=function(s,cb) {var sc=document.createElement('script');sc.onload = function() {sc.onload = null;sc.onreadystatechange = null;cb.call(this);};sc.onreadystatechange = function(){if(/^(complete|loaded)$/.test(this.readyState) === true){sc.onreadystatechange = null;sc.onload();}};sc.src=s;if (document.head) {document.head.appendChild(sc);} else {document.getElementsByTagName('head')[0].appendChild(sc);}}; var options={path:_p};_i(_p+'HTMLCS.js',function(){HTMLCSAuditor.run('WCAG2AA',null,options);});})();\r\n\r\n```\r\n\r\nSi vous int\u00e9grez cela dans un elasticms vous pouvez limiter le charger de cet outil uniquement en preview:\r\n\r\n```twig\r\n\r\n{% if 'preview' in trans_default_domain %}\r\n    \r\n        (function() {var _p='//openfed.github.io/AccessibilityCheck/build/';var _i=function(s,cb) {var sc=document.createElement('script');sc.onload = function() {sc.onload = null;sc.onreadystatechange = null;cb.call(this);};sc.onreadystatechange = function(){if(/^(complete|loaded)$/.test(this.readyState) === true){sc.onreadystatechange = null;sc.onload();}};sc.src=s;if (document.head) {document.head.appendChild(sc);} else {document.getElementsByTagName('head')[0].appendChild(sc);}}; var options={path:_p, show: { error: true, warning: false, notice: false }};_i(_p+'HTMLCS.js',function(){HTMLCSAuditor.run('WCAG2AA',null,options);});})();\r\n    \r\n{% endif %}\r\n```\r\n\r\nSinon il est aussi possible de v\u00e9rifier le nom de domain directement en javascript (pour les sites statiques \u00e0 priori):\r\n\r\n\r\n```twig\r\n    \r\n        if ([\"localhost\", \"mon-site.test.infra\", \"preview.mon-site.com\"].includes(location.hostname)) {\r\n            (function() {var _p='//openfed.github.io/AccessibilityCheck/build/';var _i=function(s,cb) {var sc=document.createElement('script');sc.onload = function() {sc.onload = null;sc.onreadystatechange = null;cb.call(this);};sc.onreadystatechange = function(){if(/^(complete|loaded)$/.test(this.readyState) === true){sc.onreadystatechange = null;sc.onload();}};sc.src=s;if (document.head) {document.head.appendChild(sc);} else {document.getElementsByTagName('head')[0].appendChild(sc);}}; var options={path:_p, show: { error: true, warning: false, notice: false }};_i(_p+'HTMLCS.js',function(){HTMLCSAuditor.run('WCAG2AA',null,options);});})();\r\n        }\r\n    \r\n```",
        "Configuration",
        "Si vous voulez fine-tuner la config de l'outil voici le code proprement indent\u00e9:\r\n\r\n```html\r\n\r\n    (function () {\r\n        var _p = '//openfed.github.io/AccessibilityCheck/build/';\r\n        var _i = function (s, cb) {\r\n            var sc = document.createElement('script');\r\n            sc.onload = function () {\r\n                sc.onload = null;\r\n                sc.onreadystatechange = null;\r\n                cb.call(this);\r\n            };\r\n            sc.onreadystatechange = function () {\r\n                if (/^(complete|loaded)$/.test(this.readyState) === true) {\r\n                    sc.onreadystatechange = null;\r\n                    sc.onload();\r\n                }\r\n            };\r\n            sc.src = s;\r\n            if (document.head) {\r\n                document.head.appendChild(sc);\r\n            } else {\r\n                document.getElementsByTagName('head')[0].appendChild(sc);\r\n            }\r\n        };\r\n        var options = {\r\n            path: _p, \r\n            show: {\r\n                error: true, \r\n                warning: false, \r\n                notice: false\r\n            }\r\n        };\r\n        _i(_p + 'HTMLCS.js', function () {\r\n            HTMLCSAuditor.run('WCAG2AA', null, options);\r\n        });\r\n    })();\r\n\r\n```\r\n\r\nVous voyez comment ajuster le niveau WCAG. Et aussi comment definir quels erreurs afficher avec la variable `show`."
    ],
    "template": "blog",
    "title": "Int\u00e9grer BOSA Accessibility Check dans un site web"
}