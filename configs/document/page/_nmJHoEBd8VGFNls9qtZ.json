{
    "blocks": "[{\"id\":\"2f481ff9-9b22-4e40-8006-586606d50808\",\"label\":\"Objectifs\",\"type\":\"paragraph\",\"object\":{\"label\":\"Objectifs\",\"body\":\"<p>Le but est de mettre en place un hebergement pour elasticms pas cher (typiquement &agrave; la maison) mais redondant afin de garantir un bonne disponibilit&eacute; (high availability). Les objectifs &agrave; atteindre sont:</p>\\r\\n\\r\\n<ul>\\r\\n\\t<li>d&eacute;ploiements sans interuption de service</li>\\r\\n\\t<li>redondance des services</li>\\r\\n\\t<li>redondance des donn&eacute;es</li>\\r\\n\\t<li>strat&eacute;gie de sauvegarde (backup)</li>\\r\\n\\t<li>monitoring applicatif</li>\\r\\n\\t<li>monitoring infrastructure</li>\\r\\n</ul>\\r\\n\\r\\n<p>En effet, si j&#39;utilisais docker-compose avant, je rencontrais des probl&egrave;mes comp&eacute;titions sur les ressources entre mes diff&eacute;rents services. Le passage &agrave; un cluster d&#39;image docker (Swarm) va permettre de r&eacute;server des ressources (m&eacute;moire et CPU).&nbsp;</p>\"},\"children\":[]},{\"id\":\"a5d21003-46ff-45e7-ad83-989688484ff5\",\"label\":\"Infrastructure\",\"type\":\"paragraph\",\"object\":{\"label\":\"Infrastructure\",\"body\":\"<ul>\\r\\n\\t<li>3 hosts avec un master&nbsp;\\r\\n\\t<ul>\\r\\n\\t\\t<li>Un server master ubuntu &quot;low profile&quot;</li>\\r\\n\\t\\t<li>2 VM HyperV sur mon PC de gaming\\r\\n\\t\\t<ul>\\r\\n\\t\\t\\t<li>Consomation ?</li>\\r\\n\\t\\t</ul>\\r\\n\\t\\t</li>\\r\\n\\t</ul>\\r\\n\\t</li>\\r\\n\\t<li>2 routers\\r\\n\\t<ul>\\r\\n\\t\\t<li>traffic internet\\r\\n\\t\\t<ul>\\r\\n\\t\\t\\t<li>443\\r\\n\\t\\t\\t<ul>\\r\\n\\t\\t\\t\\t<li>vers <a href=\\\"https://linuxfr.org/news/sslh-110-la-bete-noire-des-censeurs\\\">SSLH</a></li>\\r\\n\\t\\t\\t</ul>\\r\\n\\t\\t\\t</li>\\r\\n\\t\\t</ul>\\r\\n\\t\\t</li>\\r\\n\\t\\t<li>traffic intranet\\r\\n\\t\\t<ul>\\r\\n\\t\\t\\t<li>DynDNS</li>\\r\\n\\t\\t</ul>\\r\\n\\t\\t</li>\\r\\n\\t</ul>\\r\\n\\t</li>\\r\\n</ul>\"},\"children\":[]},{\"id\":\"3730dca1-405e-4669-83e8-f4f7a8218d12\",\"label\":\"GlusterFS\",\"type\":\"paragraph\",\"object\":{\"label\":\"GlusterFS\",\"body\":\"<ul>\\r\\n\\t<li>/mnt/ssd/gluster</li>\\r\\n\\t<li>/mnt/gluster</li>\\r\\n</ul>\"},\"children\":[]},{\"id\":\"d8e842c0-9a76-4d42-be99-2c289d96ab00\",\"label\":\"Sauvegarde\",\"type\":\"paragraph\",\"object\":{\"label\":\"Sauvegarde\",\"body\":\"<p>/mnt/backup</p>\"},\"children\":[]}]",
    "description": "tutoriel et notes pour d\u00e9ployer une petite infrastructure \u00e0 la maison pour h\u00e9berger une stack elasticms, \u00e0 moindre co\u00fbt et avec une bonne disponibilit\u00e9",
    "label": "elasticms en High Availability",
    "locale": "fr",
    "path": "blog/2021-06-01/elasticms-high-availability",
    "published_date": "2022-06-01T11:12:44+02:00",
    "search": [
        "Objectifs",
        "Le but est de mettre en place un hebergement pour elasticms pas cher (typiquement &agrave; la maison) mais redondant afin de garantir un bonne disponibilit&eacute; (high availability). Les objectifs &agrave; atteindre sont:\r\n\r\n\r\n\td&eacute;ploiements sans interuption de service\r\n\tredondance des services\r\n\tredondance des donn&eacute;es\r\n\tstrat&eacute;gie de sauvegarde (backup)\r\n\tmonitoring applicatif\r\n\tmonitoring infrastructure\r\n\r\n\r\nEn effet, si j&#39;utilisais docker-compose avant, je rencontrais des probl&egrave;mes comp&eacute;titions sur les ressources entre mes diff&eacute;rents services. Le passage &agrave; un cluster d&#39;image docker (Swarm) va permettre de r&eacute;server des ressources (m&eacute;moire et CPU).&nbsp;",
        "Infrastructure",
        "\r\n\t3 hosts avec un master&nbsp;\r\n\t\r\n\t\tUn server master ubuntu &quot;low profile&quot;\r\n\t\t2 VM HyperV sur mon PC de gaming\r\n\t\t\r\n\t\t\tConsomation ?\r\n\t\t\r\n\t\t\r\n\t\r\n\t\r\n\t2 routers\r\n\t\r\n\t\ttraffic internet\r\n\t\t\r\n\t\t\t443\r\n\t\t\t\r\n\t\t\t\tvers SSLH\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t\ttraffic intranet\r\n\t\t\r\n\t\t\tDynDNS\r\n\t\t\r\n\t\t\r\n\t\r\n\t\r\n",
        "GlusterFS",
        "\r\n\t/mnt/ssd/gluster\r\n\t/mnt/gluster\r\n",
        "Sauvegarde",
        "/mnt/backup"
    ],
    "template": "blog",
    "title": "elasticms \u00e0 la maison en haute disponibilit\u00e9"
}